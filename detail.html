<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡Œç¨‹è©³æƒ…</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html" class="back-btn">â¬… è¿”å›ç¸½è¦½</a>
        <div class="brand">ğŸ‡¹ğŸ‡· æ¯æ—¥æ”»ç•¥</div>
    </header>

    <div id="detail-hero" class="hero" style="padding: 3rem 1rem;">
        <h1 id="day-title"></h1>
        <p id="day-date"></p>
    </div>

    <div class="container animate-up">
        <div id="transport-section" class="transport-box">
            <h3>ğŸš€ äº¤é€šæ¥é§è©³æƒ…</h3>
            <p id="transport-text" style="white-space: pre-line; margin-top: 0.5rem;"></p>
        </div>

        <h2 class="section-title">ğŸ•’ ç•¶æ—¥æµç¨‹</h2>
        <div id="schedule-container">
            <ul class="schedule-list" id="schedule-list">
                </ul>
        </div>

        <div id="tools-section" style="margin-top: 3rem; display: none;">
            <h2 class="section-title">ğŸ—£ï¸ ç¶“ç†é™„è´ˆï¼šæºé€šå°å¡</h2>
            <div id="turkish-cards-container"></div>
        </div>
    </div>

    <footer>
        <p>Keep calm and travel on.</p>
    </footer>

    <script src="data.js"></script>
    <script>
        // å…§åµŒç°¡å–®çš„è©³ç´°é é‚è¼¯ï¼Œå¾ URL æŠ“å–åƒæ•¸
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const dayId = parseInt(params.get('day'));
            
            const dayData = tripData.days.find(d => d.id === dayId);

            if (!dayData) {
                document.body.innerHTML = "<div class='container'><h1>æŸ¥ç„¡æ­¤è¡Œç¨‹</h1><a href='index.html'>è¿”å›</a></div>";
                return;
            }

            // æ¸²æŸ“ Hero
            document.getElementById('day-title').textContent = dayData.title;
            document.getElementById('day-date').textContent = dayData.date;
            document.getElementById('detail-hero').style.backgroundImage = `linear-gradient(rgba(28, 59, 87, 0.8), rgba(28, 59, 87, 0.6)), url('${dayData.image}')`;

            // æ¸²æŸ“äº¤é€š
            document.getElementById('transport-text').textContent = dayData.transport;

            // æ¸²æŸ“è¡Œç¨‹
            const listContainer = document.getElementById('schedule-list');
            dayData.schedule.forEach(item => {
                const li = document.createElement('li');
                li.className = 'schedule-item';
                li.innerHTML = `
                    <div class="time">${item.time}</div>
                    <div class="event-name">${item.event}</div>
                    <div class="event-note">${item.note}</div>
                `;
                listContainer.appendChild(li);
            });

            // åˆ¤æ–·æ˜¯å¦é¡¯ç¤ºåœŸè€³å…¶èªå¡ç‰‡ (ç°¡å–®é‚è¼¯ï¼šDay 8 å’Œ Day 10 é¡¯ç¤ºäº¤é€šå¡ï¼Œå…¶ä»–ä¸é¡¯ç¤ºï¼Œæˆ–å…¨éƒ¨é¡¯ç¤ºåœ¨æœ€å¾Œ)
            // é€™è£¡åšä¸€å€‹ç¯„ä¾‹ï¼šå¦‚æœæ˜¯ Day 8 æˆ– Day 10ï¼Œé¡¯ç¤ºç›¸é—œå¡ç‰‡
            const toolsSection = document.getElementById('tools-section');
            const cardsContainer = document.getElementById('turkish-cards-container');
            
            // ç¯©é¸ç›¸é—œå¡ç‰‡
            let relevantCards = [];
            if(dayId === 8) relevantCards = tripData.turkishCards.filter(c => c.tr.includes("Pamukkale") || c.tr.includes("emanet"));
            if(dayId === 10) relevantCards = tripData.turkishCards.filter(c => c.tr.includes("tren"));
            
            if (relevantCards.length > 0) {
                toolsSection.style.display = "block";
                relevantCards.forEach(card => {
                    const div = document.createElement('div');
                    div.className = 'turkish-card';
                    div.innerHTML = `${card.tr} <small>${card.en}</small>`;
                    cardsContainer.appendChild(div);
                });
            }
        });
    </script>
</body>
</html>